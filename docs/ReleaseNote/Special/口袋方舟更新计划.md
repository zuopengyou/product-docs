# 口袋方舟更新计划

## 2024Q1

### 〓易用性提升〓

### 优化：资源库分区（本地与网络）；提升检索效率和引入同风格资源包
**痛点反馈**：创作者常出现两极的反馈：一方面认为美术资源库丰富、惊艳于Demo场景的美术效果，另一方面又觉得合适的资源很少。从数据来看，资源库体量庞大但使用分布非常不均（近20万资源量里，曾被多项目使用的只有5000个不到），反映出实际问题来自资源库检索相关功能（搜索、资源分类、相似风格资源匹配、缩略图预览效果）在当下并不能很好满足创作者的需求。

**优化形式**：我们将把资源库分为“本地”和“网络”两个分区。“本地”资源分区将展示当前项目所使用的资源及本地上传的资源，提高当下高热资源的操作便利度。“网络”资源分区的优化目标则是检索的准确率。第一，创作者将有更直观的资源预览，如更大的资源缩略图、动作及姿态直接在缩略图播放等；第二，我们将加强关键词搜索的准确性，尽可能将关联性强的资源的排序靠前展示；第三，我们将引入资源组合包，按照成套的资源进行推荐，来解决相似风格资源查找困难的问题。


### 优化：Transform支持中心/锚点 两种模式
**痛点反馈**：Transform工具的对齐、旋转、缩放操作均基于锚点进行，不同类型资源的锚点有可能不同，比如基础模型是中心锚点，路面地板的模型通常为四边锚点，在包含两类模型进行编辑和对齐的时候很难兼顾，使用空锚点又非常麻烦。

**优化形式**：我们为Transform增加了中心点模式，不同锚点的资源可以遵循统一的逻辑，在操作旋转、缩放、移动、对齐时，不会出现表现不一致的情况。


### 优化：热武器封装更多业务功能（音效特效表现、子弹检测等），提升开箱即用性
**痛点反馈**：在热武器需求调研及设计之初，有用户曾反馈希望热武器模块能有足够高的开放灵活性。回头看，当前的热武器封装抽象度过高，在熟悉热武器工作机制的前提下，需要调用10个以上的接口才能实现开火射击的效果。在表现层上，也没提提供拾取 、丢弃、持枪常见的动作表现。实际上没有为更多作者提供足够低的门槛去创作射击类游戏。

**优化形式**：我们将重构热武器对象，提供更加简易的接口，比如子弹表现，弹道检测，击中回调等功能。现在再实现射击开火，配置一个子弹资源，调用一个方法即可实现。同时在预设能力中补充了不少易用的功能，如视角支持人称切换和瞄准缩放；在表现层上则提供操作热武器的常见动作如拔枪、收枪、持枪等，常用的特效、音效也囊括其中。而有更复杂热武器需求的创作者，可以在此基础上另外进行二次开发。


### 优化：材质编辑易用性，提高用户操作模型外观表现的便利性和自由度
**痛点反馈**：材质系统经历了一轮重构与调整，关于材质的大部分操作都整合至材质编辑器中，但创作者在多数场景下只是想要进行一些基本属性的修改，而进入材质编辑器的操作显然十分不便。而同一个自定义材质应用在两个模型后，改变其中一个模型的材质属性，另一个模型也会受影响，这也让创作者困惑不已。

**优化形式**：我们将常用的材质属性将暴露在属性面板可直接修改，不用再打开材质编辑器；而应用在模型上的自定义材质的修改也将只作用于该模型自身。


### 优化：碰撞机制，提高易用性与自由度
**痛点反馈**：由于碰撞功能的耦合度较高，在使用上缺乏自由度，比如无法自定义对象间的碰撞结果，射线检测受碰撞限制无法进行通道选择，造成难以过滤冗余对象，引起性能问题等。

**优化形式**：我们将在兼容旧的碰撞下，支持碰撞层级关系，如对象类型，响应结果与事件抛出。支持碰撞组，方便创作者自定义对象碰撞的响应结果。


### 〓全新功能〓

### 新功能：资源先用后审，非公开资源团队共享
**痛点反馈**：创作者使用自有资源需要上传等待审核，等到通过后方可继续使用，创作者经常反馈审核速度慢，时间不确定。另外，上传的资源仅可在自己的个人账号使用，对多人协作使用上局限性也很大。

**迭代思路**：我们支持自有资源可以直接本地导入使用，而上传及审核流程将后置，不干扰创作者当下场景中的资源使用。同时通过审核的自有资源可以在团队共享，也可以指定创作者分享，提升多人协作的便利性。


### 新功能：角色/NPC多种新增姿态如攀爬、飞行等
**痛点反馈**：目前，角色支持的姿态较少，缺乏细节表现。一些常用的效果如攀爬，也需要创作者自己实现，这在角色本身的应用上局限性较大。

**迭代思路**：我们将支持优化角色的姿态表现，增加更多动作细节，同时支持更多基础姿态（新增攀爬、推动、死亡等状态和效果），我们也将支持自定义动画，配合新上架的动画资源，可以快速实现包括待机、攻击、死亡等动画效果。


### 新功能：物理约束组件（如 物理连接、物理力区域）
**痛点反馈**：物理模拟相关的功能，目前编辑器支持较少。在制作包含物理表现的机关及玩法上，实现存在困难。

**迭代思路**：我们将常用的物理模拟功能制作成逻辑对象，提供给用户直接使用，以此可以在不需要编写脚本的情况下，快速的制作出绳子、鱼竿、风洞等物理效果，并通过属性面板修改相关参数，达到更多的变化。


### 新功能：游戏支持配置多个场景，场景间继承游戏数据
**痛点反馈**：创作者在制作大地图、战斗房间匹配、副本、关卡类等游戏的时候，只能通过单一工程，或者同时维护多个游戏gameid互相跳转来实现。导致面临内存超载等性能问题、不同区域/副本的数据统计复杂、跨游戏场景间的用户数据CustomData同步麻烦等问题。

**迭代思路**：我们将支持单游戏下多场景功能。创作者可通过API接口实现场景间跳转，无论是制作大场景多区域RPG、还是多个副本/关卡/战斗皮欸，都将更加简单。同时各个场景只要存储数据，另一个游戏就可以获取到相关数据，如角色在A场景因受伤扣除了1000血量，进入B场景也会是扣除后的血量数值。此外，在创作者中心，对应的场景可查看对应的数据变现，方便游戏调优寻查看数据。


### 新功能：实体建模功能
**痛点反馈**：在场景搭建上，创作者经常会使用基础模型拼搭一些组合效果，比如房屋建筑，但在处理门窗的时候，需要预留门窗位置，外围拼接其他的基础模型才可以实现，不仅繁琐，而且管理麻烦，用的多了还可能有性能问题。

**迭代思路**：我们将支持实体建模，允许多个基础模型组合为一个整体，也支持布尔运算删减基础模型的部位，通过2个基础模型就可以实现门窗效果。

### 新功能：角色五个部位的IK效果
**痛点反馈**：目前，我们没有提供IK功能支持，所以角色在上台阶，或者走在起伏地面上时，会出现脚步悬空，没有踩实的情况，表现就会很僵硬。

**迭代思路**：我们将提供IK对象方便用户针对手脚和盆骨进行动作表现的调整。角色将默认开启双脚IK功能，在起伏地形上能自动播放适应性脚部IK效果的动画。此外，我们可以将IK对象挂载至模型或其他对象上时，通过激活IK对象就可以开启指定角色部位的IK功能，以此实现将骨骼牵引至目标点，这样就可以避免穿模，让动作更加自然。
